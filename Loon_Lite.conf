# 2020.12.31  18.00

# Loonå…¨å±€é…ç½® by Tartarus, æ ¹æ® MazeTsz é…ç½®æ”¹ç¼–ã€‚
# ä¼šä¸€ç›´éštfç‰¹æ€§è€Œå˜åŒ–ã€‚ä¸å»ºè®®å•†åº—ç”¨æˆ·ä½¿ç”¨ã€‚
# ä½œè€…GitHubï¼š https://github.com/Tartarus2014
# è„šæœ¬åº“GitHubï¼š https://github.com/Tartarus2014/Loon-Script
# Loonæ•™ç¨‹é“¾æ¥ï¼šhttps://github.com/chiupam/tutorial/blob/master/Loon/Plus/README.md
# Loonè§„åˆ™GitHubï¼šhttps://github.com/blackmatrix7/ios_rule_script/tree/master/rule/Loon

# å¯¼å…¥é…ç½®å,æ·»åŠ è®¢é˜…,ä¹‹åæ›´æ–°è®¢é˜…è§„åˆ™ã€‚

# ç‚¹å‡»é…ç½®-è¯ä¹¦ç®¡ç†-ç”Ÿæˆæ–°çš„CAè¯ä¹¦ï¼Œä¹‹åè¿›å…¥ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œæè¿°æ–‡ä»¶ã€, å®‰è£…Loonçš„è¯ä¹¦, å¹¶åœ¨ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œå…³äºæœ¬æœºã€>ã€Œè¯ä¹¦ä¿¡ä»»è®¾ç½®ã€å¼€å¯å¯¹Loonè¯ä¹¦çš„ä¿¡ä»»ã€‚

# å¼€å¯Loonï¼Œå¹¶åœ¨ä»ªè¡¨-è®¢é˜…å¤„æ›´æ–°å…¨éƒ¨èµ„æºã€‚

# å…¨åˆ†ç»„
# å¼•å…¥å½­äºæ™çš„è§£æå™¨
# å»å¹¿å‘Šæ’ä»¶, VIPè„šæœ¬, ç­¾åˆ°, cookie
# äº‘éŸ³ä¹è§£é”è§„åˆ™, èŠ‚ç‚¹è¿œç¨‹è®¢é˜…, é»˜è®¤ç›´è¿, å¯åœ¨ç­–ç•¥ç»„æ‰‹åŠ¨å¼€å¯
# =è¯·ä½¿ç”¨ Safari æµè§ˆå™¨è®¿é—®ç½‘ç«™ã€‚é¦–å…ˆä¸‹è½½ è¯ä¹¦, è¿›å…¥ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œæè¿°æ–‡ä»¶ã€, å®‰è£…ã€ŒUnblockNeteaseMusic Root CAã€, å¹¶åœ¨ã€Œè®¾ç½®ã€>ã€Œé€šç”¨ã€>ã€Œå…³äºæœ¬æœºã€>ã€Œè¯ä¹¦ä¿¡ä»»è®¾ç½®ã€å¼€å¯å¯¹ã€ŒUnblockNeteaseMusic Root CAã€çš„ä¿¡ä»»ã€‚
# =è¯ä¹¦é“¾æ¥ï¼šhttps://cdn.jsdelivr.net/gh/nondanee/UnblockNeteaseMusic@master/ca.crt
# å›½å†…åª’ä½“ç­–ç•¥ä¸ºè§£é”Bç«™åœ°åŒº, é»˜è®¤ç›´è¿, åˆ‡æ¢ åª’ä½“è§£é” å³ä¸ºè§£é”æ¨¡å¼ã€‚
# å¢åŠ åŠ¨ç”»ç–¯åˆ†æµ, é»˜è®¤èµ°å°æ¹¾ã€‚
# å¢åŠ äº†BOXJSçš„è®¢é˜…ã€‚

# ç­–ç•¥ç»„
# èŠ‚ç‚¹é€‰é¡¹
# selectæ¨¡å¼,æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼
# url-testæ¨¡å¼, ç»™æä¾›çš„urlå‘å‡ºhttp headerè¯·æ±‚, æ ¹æ®è¿”å›ç»“æœ, é€‰æ‹©æµ‹é€Ÿæœ€å¿«çš„èŠ‚ç‚¹, é»˜è®¤é—´éš”600s, æµ‹é€Ÿè¶…æ—¶æ—¶é—´5s, ä¸ºäº†é¿å…èµ„æºæµªè´¹, å»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤š, åªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹, å…¶ä»–ä¼šè¢«å¿½ç•¥
# url-test ç­–ç•¥ç»„æ·»åŠ toleranceå‚æ•°ï¼Œç”¨äºå¯¹æ¯”åˆ‡æ¢èŠ‚ç‚¹å†…æ—¶çš„å®¹å·®ï¼Œè®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š(å‰ä¸€æ¬¡æµ‹é€Ÿæœ€ä¼˜èŠ‚ç‚¹è€—æ—¶ -å‡å» å½“å‰æµ‹é€Ÿæœ€ä¼˜èŠ‚ç‚¹è€—æ—¶ å¤§äº  toleranceæ—¶æ‰ä¼šè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢ï¼Œé»˜è®¤0)
# fallbackæ¨¡å¼, å’Œurl-testç±»ä¼¼, ä¸åŒçš„æ˜¯ä¼šæ ¹æ®é¡ºåºè¿”å›ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹, ä¸ºäº†é¿å…èµ„æºæµªè´¹, å»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤š, åªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹, å…¶ä»–ä¼šè¢«å¿½ç•¥
# Load-Balance:è´Ÿè½½å‡è¡¡, æ ¹æ®é€‰æ‹©çš„è´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©å­ç­–ç•¥, ç›®å‰ä¸‰ç§ç®—æ³•:
#   -Random:éšæœºé€‰æ‹©å­ç­–ç•¥
#   -PCC:åŸºäºRandom, ä¸åŒäºRandom, PCCä¼šè®©ç›¸åŒä¸»æœºåçš„è¯·æ±‚é”å®šåŒä¸€èŠ‚ç‚¹
#   -Round-Robin:è½®è¯¢é€‰æ‹©å­ç­–ç•¥
#  
# ç”±äºè´Ÿè½½å‡è¡¡ç­–ç•¥, å¹¶ä¸æ˜¯æ‰€æœ‰æœºåœºéƒ½èƒ½é€‚ç”¨, æ‰€ä»¥è¯·è‡ªå·±æ‰‹åŠ¨è®¾ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ï¼š
#  ï¼ˆPS.è¯·é€‰æ‹©åŒåœ°åŒºèŠ‚ç‚¹, å¹¶ä¸”éµä»å„æœºåœºçš„æœ€å¤§IPé™åˆ¶æ•°, è¯¥æœºåœºèŠ‚ç‚¹é€‰æ‹©æ•°é‡åº”å°äºé™åˆ¶æ•°ï¼‰
# ç½‘æ˜“äº‘éŸ³ä¹ç°è‰²æ­Œæ›²,éœ€è¦èŠ‚ç‚¹æ”¯æŒè§£é”

[General]
# IPv6 æ”¯æŒ
ipv6 = false
# > è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,e.crashlynatics.com
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
# DNS æœåŠ¡å™¨
dns-server = system,119.29.29.29
# Wi-Fi è®¿é—®
# > å…è®¸ Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—®
allow-udp-proxy = false
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.gstatic.com/generate_204
# > æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 3
# è§£æå™¨
resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/scripts/sub-store-parser.js

[Remote Proxy]

[Proxy]

[Proxy Group]
FINAL = select, DIRECT, PROXY
PROXY = select, æœºåœºèŠ‚ç‚¹

[Remote Rule]
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,REJECT, policy=REJECT, tag=å»å¹¿å‘Š,enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,REJECT, policy=REJECT, tag=å»å¹¿å‘Š,enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,REJECT, policy=REJECT, tag=å»å¹¿å‘Š,enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=PROXY, tag=å…¨çƒåŠ é€Ÿ, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy_Domain.list, policy=PROXY, tag=å…¨çƒåŠ é€Ÿ,enabled=true

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/China/China.list, policy=DIRECT, tag=ä¸­å›½ç›´è¿,enabled=true

[Rule]
GEOIP,CN,DIRECT
FINAL,FINAL

[URL Rewrite]
enable = false

[Script]
enable = false

[Remote Filter]
# ç­›é€‰è®¢é˜…èŠ‚ç‚¹, ç­›é€‰åçš„ç»“æœå¯åŠ å…¥åˆ°ç­–ç•¥ç»„ä¸­, ç›®å‰æ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹ã€‚
# NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰, ä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
# NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰, ä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚

æœºåœºèŠ‚ç‚¹ = NameRegex, FilterKey = "(.*)"
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
éŸ©å›½ = NameRegex, FilterKey = "(?i)(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½ = NameRegex, FilterKey = "(?i)(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"
ç½‘æ˜“è§£é” = NameRegex, FilterKey = "(?i)(unblock|music|Music|äº‘éŸ³ä¹|ğŸ§)"

[Remote Script]
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=Cookie.è·å–å®Œä¸€å®šè¦å…³é—­, enabled=false
https://raw.githubusercontent.com/laotan1024/Loon/master/Task.conf, tag=Task, enabled=false
https://raw.githubusercontent.com/laotan1024/Loon-Script/master/Script.conf, tag=Script, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/JS/lxk0301.conf, tag=äº¬ä¸œ, enabled=false
[Plugin]

https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/Block/Advertising.plugin, proxy=REJECT, tag=Advertising, enabled=false

https://gitee.com/chavyleung/scripts/raw/master/box/rewrite/boxjs.rewrite.loon.tf.plugin, tag=Boxjs, enabled=false
 
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Loon.plugin, tag=è®¢é˜…è§£æå™¨, enabled=false

[MITM]
enable = false
skip-server-cert-verify = true
